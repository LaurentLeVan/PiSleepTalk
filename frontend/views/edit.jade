extends layout

block content
	script.
		fileCount=#{pageData.fileCount};

	div.modal.fade#delete-file
		div.modal-dialog
			div.modal-content
				div.modal-header
					button.close(type='button', data-dismiss='modal', aria-label='Close')
					h4.modal-title Remove recording
				div.modal-body
					p Are you sure to delete the whole recording? You can't undo this.
				div.modal-footer
					button.btn.btn-primary(type='button', data-dismiss='modal') Cancel
					button.btn.btn-danger#delete-file-confirm(type='button', data-dismiss='modal') Delete recording

	div.modal.fade#clear-texts
		div.modal-dialog
			div.modal-content
				div.modal-header
					button.close(type='button', data-dismiss='modal', aria-label='Close')
					h4.modal-title Clear text data
				div.modal-body
					p Are you sure to delete all the text data?
				div.modal-footer
					button.btn.btn-primary(type='button', data-dismiss='modal') Cancel
					button.btn.btn-danger#text-clear-confirm(type='button', data-dismiss='modal') Clear

	div.modal.fade#set-marker-first-error
		div.modal-dialog
			div.modal-content
				div.modal-header
					button.close(type='button', data-dismiss='modal', aria-label='Close')
					h4.modal-title An error occurred
				div.modal-body
					p Please set a marker first before you try to jump to it.
				div.modal-footer
					button.btn.btn-primary(type='button', data-dismiss='modal') Whoops, sorry!

	div.modal.fade#decrease-volume-modal
		div.modal-dialog
			div.modal-content
				div.modal-header
					button.close(type='button', data-dismiss='modal', aria-label='Close')
					h4.modal-title Decrease volume
				div.modal-body
					p Are you sure to decrease the volume of this audio file by 50%? This will move the file away from your processing scope until the volume is decreased. The audio file will automatically re-appear on the home page. 
				div.modal-footer
					button.btn.btn-primary(type='button', data-dismiss='modal') Cancel
					button.btn.btn-success#decrease-volume-confirm(type='button', data-dismiss='modal') Decrease volume

	div.modal.fade#increase-volume-modal
		div.modal-dialog
			div.modal-content
				div.modal-header
					button.close(type='button', data-dismiss='modal', aria-label='Close')
					h4.modal-title Increase volume
				div.modal-body
					p Are you sure to increase the volume of this audio file by 50%? This will move the file away from your processing scope until the volume is increased. The audio file will automatically re-appear on the home page. 
				div.modal-footer
					button.btn.btn-primary(type='button', data-dismiss='modal') Cancel
					button.btn.btn-success#increase-volume-confirm(type='button', data-dismiss='modal') Increase volume

	// Thanks to
	// * http://stackoverflow.com/questions/5081534/put-jade-local-variable-in-tag-attribute
	// * http://jade-lang.com/reference/comments/
	div#wave(file-to-process=pageData.fileToProcess)
		div#wave-content
		div#wave-loading
			i.fa.fa-spinner.fa-spin

	nav.navbar.navbar-light.bg-faded
		div.pull-left
			// Thanks to
			// * http://stackoverflow.com/questions/10953326/what-is-a-concise-way-to-create-inline-elements-in-jade
			// * http://stackoverflow.com/questions/20727360/do-i-have-to-use-nbsp-for-space-in-jade
			+button('wave-step-backward',    'step-backward', 'Step backward',    'primary')
			+button('wave-play', 		     'play', 		   'Play',            'primary')
			+button('wave-stop', 		     'stop', 		   'Stop',            'primary')
			+button('wave-step-forward',     'step-forward',  'Step forward',     'primary')
			+button('wave-set-marker',       'thumb-tack',    'Set marker',       'info')
			+button('wave-play-from-marker', 'play',    	  'Play from marker', 'info')
			+button('wave-decrease-volume',  'volume-down',   'Decrease volume',  'warning')
			+button('wave-increase-volume',  'volume-up',     'Increase volume',  'warning')
		div.pull-right
			+button('wave-save',  		 	 'floppy-o',      'Save',  			  'success')
			+button('wave-delete',  		 'trash',         'Delete',  		  'danger')
	div#text-manager
		div#text-wrapper
			table.table.table-bordered
				thead
					tr
						th.frame Frame
						th.text Text
						th.actions Actions
				tbody
					tr
						td.frame
							div.input-group
								input(type='number', min='0').form-control.frame
								+button('', 'arrow-left', '',  'info', 'arrow-left')
						td
							div.input-group
								input(type='text').form-control.text

						td
							+button('', 'arrow-up',   '',  'info',   'arrow-up')
							+button('', 'arrow-down', '',  'info',   'arrow-down') 
							+button('', 'trash',      '',  'danger', 'delete') 

		nav.navbar.navbar-light.bg-faded
			div.pull-left
				+button('text-add',  'plus',            'Add text', 'success')
				+button('text-sort', 'sort-amount-asc', 'Sort',     'info')

			div.pull-right
				+button('text-clear', 'trash', 'Clear', 'danger')